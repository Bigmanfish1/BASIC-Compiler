
import java.io.File;
import java.io.StringReader;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Stack;
import javax.xml.parsers.DocumentBuilderFactory;
import javax.xml.parsers.DocumentBuilder;
import org.w3c.dom.*;
import org.xml.sax.InputSource;

public class Parser {
    private static final String[][] actionTable = {
    {"s2", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""},
    {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "","acc"},  
    {"", "", "s5", "s6", "", "r2", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "s8", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "s10", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""},
    {"", "", "", "", "r4", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "r5", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "s15", "", "", "", "r48", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "s16", "", "","r48"}, 
    {"", "", "", "", "s10", "", "r8", "", "s19", "s20", "s21", "s25", "", "", "", "", "", "", "s28", "", "", "", "", "", "", "", "", "", "", "", "", "s29", "", "", "",""}, 
    {"", "s30", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "r6", "", "", "", "", "", "r6", "", "", "", "", "", "", "r6", "r6", "", "r6", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "","r1"}, 
    {"", "", "s15", "", "", "", "r48", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "s16", "", "","r48"}, 
    {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "s34", "",""}, 
    {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "s29", "", "", "",""}, 
    {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "r52", "", "", "",""}, 
    {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "r53", "", "", "",""},
    {"", "", "", "", "", "", "s36", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "s37", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "r10", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "r11", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "s10", "", "", "", "", "", "", "", "s41", "s42", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "r13", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "r14", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "r15", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "s10", "", "", "", "", "", "", "", "s41", "s42", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "s44", "s45", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "s46", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "s60", "s61", "s52", "s53", "s54", "s55", "s56", "s57", "s58", "s59", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "r47", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "s5", "s6", "", "r2", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "r49", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "","r49"}, 
    {"", "", "r50", "", "", "", "r50", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "r50", "", "","r50"},
    {"", "", "s5", "s6", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "r55", "r55", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "s65", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "r7", "", "", "", "", "r7", "", "", "", "", "", "", "", "", "", "", "", "", "r7", "", "", "", "", "", "", "", "", "", "", "", "r7", "", "r7","r7"}, 
    {"", "", "", "", "s10", "", "r8", "", "s19", "s20", "s21", "s25", "", "", "", "", "", "", "s28", "", "", "", "", "", "", "", "", "", "", "", "", "s29", "", "", "",""}, 
    {"", "", "", "", "", "", "", "r12", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "r17", "", "", "", "", "", "r17", "", "", "", "", "", "", "", "", "", "r17", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "r18", "", "", "", "", "", "r18", "", "", "", "", "", "", "", "", "", "r18", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "r19", "", "", "", "", "", "r19", "", "", "", "", "", "", "", "", "", "r19", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "r20", "", "", "", "", "", "r20", "", "", "", "", "", "", "", "", "", "r20", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "r16", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "r21", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""},
    {"", "", "", "", "s10", "", "", "", "", "", "", "", "s41", "s42", "", "", "", "", "", "", "", "s60", "s61", "s52", "s53", "s54", "s55", "s56", "s57", "s58", "s59", "s29", "", "", "",""}, 
    {"", "", "", "", "s10", "", "", "", "", "", "", "", "s41", "s42", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "s74", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "r32", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "r33", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "s75", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "s76", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "r39", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "r40", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "r41", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "r42", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "r43", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""},
    {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "r44", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "r45", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "r46", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "r37", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "r38", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "r3", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "s8", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "s10", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "s10", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "r9", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "r22", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "r25", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""},
    {"", "", "", "", "", "", "", "r26", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "r27", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "s80", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "s81", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "s82", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "s8", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "s10", "", "", "", "", "", "", "", "s41", "s42", "", "", "", "", "", "", "", "", "", "s52", "s53", "s54", "s55", "s56", "s57", "s58", "s59", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "s52", "s53", "s54", "s55", "s56", "s57", "s58", "s59", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "s89",""}, 
    {"", "s90", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "s91", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "s10", "", "", "", "", "", "", "", "s41", "s42", "", "", "", "", "", "", "", "s60", "s61", "s52", "s53", "s54", "s55", "s56", "s57", "s58", "s59", "", "", "", "",""},
    {"", "", "", "", "s10", "", "", "", "", "", "", "", "s41", "s42", "", "", "", "", "", "", "", "s60", "s61", "s52", "s53", "s54", "s55", "s56", "s57", "s58", "s59", "", "", "", "",""},
    {"", "", "", "", "s10", "", "", "", "", "", "", "", "s41", "s42", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "s97", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "s98", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "s99", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "s100", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "s101", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "s15", "", "", "", "r48", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "s16", "", "","r48"}, 
    {"", "", "r56", "", "", "", "r56", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "r56", "", "","r56"}, 
    {"", "", "s5", "s6", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
   {"", "", "", "", "s10", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "s106", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""},
    {"", "r30", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "r30", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "r31", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "r31", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "s107", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "s108", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "s8", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "s10", "", "", "", "", "", "", "", "s41", "s42", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "s52", "s53", "s54", "s55", "s56", "s57", "s58", "s59", "", "", "", "",""}, 
    {"", "", "", "", "s10", "", "", "", "", "", "", "", "s41", "s42", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "r36", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "s112", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "r58", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "s10", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""},
    {"", "s114", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "r28", "", "", "", "", "", "r28", "", "", "", "", "", "", "", "", "", "r28", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "s10", "", "", "", "", "", "", "", "s41", "s42", "", "", "", "", "", "", "", "s60", "s61", "s52", "s53", "s54", "s55", "s56", "s57", "s58", "s59", "", "", "", "",""}, 
    {"", "", "", "", "s10", "", "", "", "", "", "", "", "s41", "s42", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "r24", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "s117", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""},
    {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "s118", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "r54", "", "", "", "r54", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "r54", "", "","r54"}, 
    {"", "s119", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "s10", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "s121", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "s122", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""},
    {"", "r34", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "r34", "", "r34", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "r35", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "s5", "s6", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "s124", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "r29", "", "", "", "", "", "r29", "", "", "", "", "", "", "", "", "", "r29", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "r23", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "s10", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "r51", "",""}, 
    {"", "s126", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""},  
    {"", "", "", "", "", "r57", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",""}, 
    
    
    
    };


    private static final String[][] gotoTable = {
        {"1", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "3", "4", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "7", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "9", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "11", "12", "13", "14", "", "", "", "", ""},
        {"", "", "", "26", "", "17", "18", "", "", "22", "23", "24", "", "", "", "", "", "", "", "", "27", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "31", "12", "13", "14", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "32", "33", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "35", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "39", "", "", "", "38", "40", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "39", "", "", "", "43", "40", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "47", "48", "49", "51", "50", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "62", "4", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "64", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "63", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "26", "", "66", "18", "", "", "22", "23", "24", "", "", "", "", "", "", "", "", "27", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "39", "", "", "", "68", "40", "", "69", "", "67", "70", "", "", "", "", "71", "72", "27", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "39", "", "", "", "73", "40", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "77", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "78", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "79", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "83", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "39", "", "", "", "84", "40", "", "", "", "", "", "", "", "85", "", "", "86", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "87", "", "", "86", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "88", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "39", "", "", "", "93", "40", "", "", "", "", "94", "92", "", "", "", "71", "72", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "39", "", "", "", "93", "40", "", "", "", "", "94", "95", "", "", "", "71", "72", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "39", "", "", "", "96", "40", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "103", "12", "13", "14", "", "", "", "", "102"},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "104", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "105", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "109", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "39", "", "", "", "110", "40", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "111", "", "", "86", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "39", "", "", "", "84", "40", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "113", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "39", "", "", "", "93", "40", "", "", "", "", "94", "115", "", "", "", "71", "72", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "39", "", "", "", "116", "40", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "120", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "123", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "125", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
        {"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""},
   };
   

    private Stack<Integer> stack = new Stack<Integer>();

    private static final HashMap<String, Integer> terminals = new HashMap<String, Integer>(){{
        put("main", 0);
        put(",", 1);
        put("num", 2);   
        put("text", 3);
        put("V_", 4);
        put("begin", 5);
        put("end", 6);
        put(";", 7);
        put("skip", 8);
        put("halt", 9);
        put("print", 10);
        put("return", 11);     
        put("N_", 12);
        put("T_", 13);
        put("< input", 14);
        put("=", 15);
        put("(", 16);
        put(")", 17);
        put("if", 18);
        put("then", 19);
        put("else", 20);
        put("not", 21);
        put("sqrt", 22);
        put("or", 23);
        put("and", 24);
        put("eq", 25);
        put("grt", 26);
        put("add", 27);
        put("sub", 28);
        put("mul", 29);
        put("div", 30);
        put("F_", 31);
        put("void", 32);
        put("{", 33);
        put("}", 34);
        put("$", 35);

    }};
    
    private static final HashMap<String, Integer> nonTerminals = new HashMap<String, Integer>(){{
        put("PROG", 0);
        put("GLOBVARS", 1);
        put("VTYP", 2);
        put("VNAME", 3);
        put("ALGO", 4);
        put("INSTRUC", 5);
        put("COMMAND", 6);
        put("ATOMIC", 7);
        put("CONST", 8);
        put("ASSIGN", 9);
        put("CALL", 10);
        put("BRANCH", 11);
        put("TERM", 12);
        put("OP", 13);
        put("ARG", 14);
        put("COND", 15);
        put("SIMPLE", 16);
        put("COMPOSIT", 17);
        put("UNOP", 18);
        put("BINOP", 19);
        put("FNAME", 20);
        put("FUNCTIONS", 21);
        put("DECL", 22);
        put("HEADER", 23);
        put("FTYP", 24);
        put("BODY", 25);
        put("PROLOG", 26);
        put("EPILOG", 27);
        put("LOCVARS", 28);
        put("SUBFUNCS", 29);

    }};

    

    private static final Integer [] lengthOfRules = {
        1,4,0,4,1,1,1,3,0,3,1,1,2,1,1,1,2,1,1,1,1,2,3,8,6,1,1,1,4,6,1,1,1,1,6,6,4,1,1,1,1,1,1,1,1,1,1,1,0,2,2,9,1,1,6,1,1,9,1

    };

    private static final String[] grammarRules = {
        "S -> PROG",
    "PROG -> main GLOBVARS ALGO FUNCTIONS",
    "GLOBVARS -> ''",
    "GLOBVARS -> VTYP VNAME , GLOBVARS",
    "VTYP -> num",
    "VTYP -> text",
    "VNAME -> V_",
    "ALGO -> begin INSTRUC end",
    "INSTRUC -> ''",
    "INSTRUC -> COMMAND ; INSTRUC",
    "COMMAND -> skip",
    "COMMAND -> halt",
    "COMMAND -> print ATOMIC",
    "COMMAND -> ASSIGN",
    "COMMAND -> CALL",
    "COMMAND -> BRANCH",
    "COMMAND -> return ATOMIC",
    "ATOMIC -> VNAME",
    "ATOMIC -> CONST",
    "CONST -> N_",
    "CONST -> T_",
    "ASSIGN -> VNAME < input",
    "ASSIGN -> VNAME = TERM",
    "CALL -> FNAME ( ATOMIC , ATOMIC , ATOMIC )",
    "BRANCH -> if COND then ALGO else ALGO",
    "TERM -> ATOMIC",
    "TERM -> CALL",
    "TERM -> OP",
    "OP -> UNOP ( ARG )",
    "OP -> BINOP ( ARG , ARG )",
    "ARG -> ATOMIC",
    "ARG -> OP",
    "COND -> SIMPLE",
    "COND -> COMPOSIT",
    "SIMPLE -> BINOP ( ATOMIC , ATOMIC )",
    "COMPOSIT -> BINOP ( SIMPLE , SIMPLE )",
    "COMPOSIT -> UNOP ( SIMPLE )",
    "UNOP -> not",
    "UNOP -> sqrt",
    "BINOP -> or",
    "BINOP -> and",
    "BINOP -> eq",
    "BINOP -> grt",
    "BINOP -> add",
    "BINOP -> sub",
    "BINOP -> mul",
    "BINOP -> div",
    "FNAME -> F_",
    "FUNCTIONS -> ''",
    "FUNCTIONS -> DECL FUNCTIONS",
    "DECL -> HEADER BODY",
    "HEADER -> FTYP FNAME ( VNAME , VNAME , VNAME )",
    "FTYP -> num",
    "FTYP -> void",
    "BODY -> PROLOG LOCVARS ALGO EPILOG SUBFUNCS end",
    "PROLOG -> {",
    "EPILOG -> }",
    "LOCVARS -> VTYP VNAME , VTYP VNAME , VTYP VNAME ,",
    "SUBFUNCS -> FUNCTIONS"   
    };    

    public List<Token> parseXmlInput(String xmlInput) {
        List<Token> tokens = new ArrayList<>();

        try {
            
            DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
            DocumentBuilder builder = factory.newDocumentBuilder();

           
            Document doc = builder.parse(new File(xmlInput));
            doc.getDocumentElement().normalize();

           
            NodeList tokenNodes = doc.getElementsByTagName("TOK");

          
            for (int i = 0; i < tokenNodes.getLength(); i++) {
                Node tokNode = tokenNodes.item(i);

                if (tokNode.getNodeType() == Node.ELEMENT_NODE) {
                    Element tokElement = (Element) tokNode;

                    
                    int id = Integer.parseInt(tokElement.getElementsByTagName("ID").item(0).getTextContent());
                    String tokenClass = tokElement.getElementsByTagName("CLASS").item(0).getTextContent();
                    String word = tokElement.getElementsByTagName("WORD").item(0).getTextContent();

                    
                    Token token = new Token(id, word, tokenClass);
                    tokens.add(token);
                }
            }
            //add the end of file token
            tokens.add(new Token(tokens.size(), "$", "$"));
        } catch (Exception e) {
            e.printStackTrace();
        }

        return tokens;
    }

    public void parse(List<Token> tokens) throws Exception {
        SyntaxTree syntaxTree = new SyntaxTree();
        Stack<Integer> stack = new Stack<>(); 
        Stack<SyntaxTree.Node> nodeStack = new Stack<>(); 
        syntaxTree.createRoot(grammarRules[0].split(" -> ")[0]); // Assuming first rule is the start symbol
        stack.push(0); 
        
        int i = 0;
        while (i < tokens.size()) {
            Token currentToken = tokens.get(i);
            int state = stack.peek();
            String tokenClass = currentToken.getTokenClass();
            System.out.println("Current token: " + currentToken.getToken());

            int token;
            if (tokenClass.equals("V_") || tokenClass.equals("F_") || tokenClass.equals("N_") || tokenClass.equals("T_")) 
                token = terminals.get(tokenClass);
            else
                token = terminals.get(currentToken.getToken());
            
            String action = actionTable[state][token]; 
            
            if (action.equals("")) {
                System.out.println("Syntax Error");
                throw new Exception("Syntax Error");
            }
            
            if (action.charAt(0) == 's') { 
                stack.push(Integer.parseInt(action.substring(1))); 
                SyntaxTree.Node leaf = syntaxTree.createLeafNode(currentToken.getToken(), null);
                nodeStack.push(leaf); 
                i++;
                System.out.println("Shifted to state " + action.substring(1));
                
            } else if (action.charAt(0) == 'r') {
                int rule = Integer.parseInt(action.substring(1)); 
                int length = lengthOfRules[rule];
                System.out.println("Length of rule: " + length + " Rule: " + rule);
                List<SyntaxTree.Node> children = new ArrayList<>();
                System.out.println("Top of stack: " + stack.peek());
                
                for (int j = 0; j < length; j++) {
                    stack.pop(); 
                    children.add(0, nodeStack.pop());
                }
                
                int nonTerminal = nonTerminals.get(grammarRules[rule].split(" -> ")[0]);
                int newState = Integer.parseInt(gotoTable[stack.peek()][nonTerminal]);
                stack.push(newState); 
                
                SyntaxTree.Node innerNode = syntaxTree.createInnerNode(grammarRules[rule].split(" -> ")[0], null);
                for (SyntaxTree.Node child : children) {
                    child.parent = innerNode; 
                    innerNode.children.add(child);
                }
                
                if (innerNode.children.isEmpty() && nonTerminals.containsKey(innerNode.value)) {
                    syntaxTree.createLeafNode("e", innerNode);
                }
                
                nodeStack.push(innerNode); 
                System.out.println("Reduced using rule " + rule);
            }
             else if (action.equals("acc")) {
                SyntaxTree.Node temp = nodeStack.pop();
                temp.parent = syntaxTree.root;
                syntaxTree.root.children.add(temp);
                System.out.println("Accepted");
                
                try {
                    syntaxTree.saveToXML("syntax_tree.xml");
                    System.out.println("Syntax tree saved to syntax_tree.xml");
                } catch (Exception e) {
                    throw new Exception("Error saving syntax tree: " + e.getMessage());
                }
                // syntaxTree.printSyntaxTree();
                return;
            }
        }
        
    }
    
    
}
